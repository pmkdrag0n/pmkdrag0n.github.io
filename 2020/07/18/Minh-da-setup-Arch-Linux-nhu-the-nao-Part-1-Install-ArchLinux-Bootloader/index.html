<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Mình đã setup Arch Linux như thế nào? (Part 1: Install ArchLinux &amp; Bootloader) - pmk&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="pmk&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="pmk&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="pmk&amp;#39;s personal blog"><meta property="og:type" content="blog"><meta property="og:title" content="pmk&#039;s blog"><meta property="og:url" content="https://pmkhoi.com/"><meta property="og:site_name" content="pmk&#039;s Blog"><meta property="og:description" content="pmk&amp;#39;s personal blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://pmkdrag0n.github.io/images/logo.jpg"><meta property="article:published_time" content="2020-07-18T18:59:28.000Z"><meta property="article:modified_time" content="2020-07-24T03:46:25.000Z"><meta property="article:author" content="Pham Minh Khoi"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Setup"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://pmkdrag0n.github.io/images/logo.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://pmkhoi.com/2020/07/18/Minh-da-setup-Arch-Linux-nhu-the-nao-Part-1-Install-ArchLinux-Bootloader/"},"headline":"pmk's Blog","image":["http://pmkhoi.com/images/blog1/blog_1_1.png"],"datePublished":"2020-07-18T18:59:28.000Z","dateModified":"2020-07-24T03:46:25.000Z","author":{"@type":"Person","name":"Pham Minh Khoi"},"description":"Mình là một fan của Linux trải nghiệm nhiều loại Distro ( Ubuntu, CentOS, Kali,…) Nhưng khi trải nghiệm đến Manjaro thì mình quyết định dừng chân tại đây vì Manjaro hội tụ các yếu tố mà mình cần đó là"}</script><link rel="canonical" href="http://pmkhoi.com/2020/07/18/Minh-da-setup-Arch-Linux-nhu-the-nao-Part-1-Install-ArchLinux-Bootloader/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">pmk&#039;s blog</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/cheat_sheet">Cheat Sheets</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="My GitHub" href="https://github.com/pmkdrag0n"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/images/blog1/blog_1_1.png" alt="Mình đã setup Arch Linux như thế nào? (Part 1: Install ArchLinux &amp; Bootloader)"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-07-18T18:59:28.000Z" title="2020-07-18T18:59:28.000Z">18-07-2020</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-07-24T03:46:25.000Z" title="2020-07-24T03:46:25.000Z">23-07-2020</time></span><span class="level-item"><a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item">15 minutes read (About 2287 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Mình đã setup Arch Linux như thế nào? (Part 1: Install ArchLinux &amp; Bootloader)</h1><div class="content"><p>Mình là một fan của Linux trải nghiệm nhiều loại Distro ( Ubuntu, CentOS, Kali,…) Nhưng khi trải nghiệm đến Manjaro thì mình quyết định dừng chân tại đây vì Manjaro hội tụ các yếu tố mà mình cần đó là sử dụng Distro một cách lâu dài, không phân version như các Distro khác, bạn chỉ cần cài đặt một lần trên máy bạn một lần và update nó chỉ với 1 lệnh duy nhất. </p>
<p>Khi tìm hiểu thêm thì mình thấy Manjaro thuộc nhánh Distro của Arch Linux. Arch Linux là một trong những hệ điều hành phổ biến nhất. Nó cho phép bạn cài đặt PC của bạn từ Desktop Enviroment đến terminal, tất cả mọi thứ bạn đều có thể tự lựa chọn được. Vì thế mình thử try hard một lần xem sao.</p>
<a id="more"></a>

<p>Đầu tiên thì chuẩn bị cài đặt Arch Linux thì mình cần các thứ như sau:</p>
<ul>
<li>1 USB tầm 4GB</li>
<li>ISO cài đặt của Arch Linux ( có thể tải tại <a target="_blank" rel="noopener" href="https://www.archlinux.org/download/">đây</a> )</li>
<li>Laptop cài đặt cần được kết nối mạng</li>
</ul>
<p>Đầu tiên thì mình sẽ dùng phần mềm Rufus để tạo USB cài đặt ( Lưu ý chọn mode DD)<br>Sau đó thì mình sẽ phân vùng ổ đỉa thành 3 phân vùng để Dual boot với Windows</p>
<ul>
<li>Phân vùng Boot EFI: phân vùng này do cài đặt sẵn Windows với boot UEFI nên sẽ có sẵn nên không cần phải phân vùng ( Lưu ý không format phân vùng này nếu không sẽ không vào được Windows).</li>
<li>Phân vùng ROOT: phân vùng này chưa các thành phần chính của HĐH nên mình sẽ để ở trên SSD tầm khoảng 30–40 GB là ổn.</li>
<li>Phân vùng Home: phân vùng này sẽ chứa các thành phần của User nên mình sẽ để trên HDD khoảng 50–70GB là ổn.</li>
<li>Sau khi tạo USB cài đặt xong thì mình sẽ boot vào bắt đầu cài đặt. Giao diện cài đặt Arch Linux là một màn hình đen thui với vời những dòng command line mà thôi.</li>
</ul>
<h2 id="Chuan-bi"><a href="#Chuan-bi" class="headerlink" title="Chuẩn bị"></a>Chuẩn bị</h2><p>Việc đầu tiên là cần phải xác định các phân vùng của mình có tên là gì bằng câu lệnh <strong>blkid</strong> thường thì nó sẽ có dạng /dev/sd[X][Y], trong đó <strong>X</strong> sẽ là <strong>a</strong> và <strong>b</strong> tương ứng với ổ đĩa 1 (SSD) và ổ đĩa 2 (HDD) của máy mình. Còn <strong>Y</strong> sẽ là số thứ tự phân vùng. Khi sử dụng lệnh <strong>blkid</strong> thì mình đã biết được vị trí cần cài đặt là:</p>
<ul>
<li>EFI: /dev/sda1</li>
<li>root ( / ): /dev/sda3</li>
<li>home: /dev/sdb4</li>
</ul>
<h2 id="Phan-vung-cai-dat"><a href="#Phan-vung-cai-dat" class="headerlink" title="Phân vùng cài đặt"></a>Phân vùng cài đặt</h2><p>mình sẽ tiến hành format phân vùng home và root sau đó mount để tiến hành cài đặt:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># format phân vùng</span></span><br><span class="line">mkfs.ext4 /dev/sda3</span><br><span class="line">mkfs.ext4 /dev/sdb4</span><br><span class="line"><span class="comment"># tạo thư mục để mount</span></span><br><span class="line">mkdir /mnt/boot</span><br><span class="line">mkdir /mnt/home</span><br><span class="line"><span class="comment"># tiến hành mount</span></span><br><span class="line">mount /dev/sda3 /mnt</span><br><span class="line">mount /dev/sda1 /mnt/boot</span><br><span class="line">mount /dev/sdb4 /mnt/home</span><br></pre></td></tr></table></figure>

<p>Nếu các bạn không có cáp mạng thì cần phải kết nối wifi bằng lệnh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wifi-menu</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-Arch-Linux-bang-lenh-pactrap"><a href="#Cai-dat-Arch-Linux-bang-lenh-pactrap" class="headerlink" title="Cài đặt Arch Linux bằng lệnh pactrap"></a>Cài đặt Arch Linux bằng lệnh pactrap</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap -i /mnt base base-devel linux mkinitcpio neovim zsh</span><br></pre></td></tr></table></figure>

<h2 id="Tao-file-fstab-file-nay-se-luu-tru-thong-tin-cac-phan-vung-mount"><a href="#Tao-file-fstab-file-nay-se-luu-tru-thong-tin-cac-phan-vung-mount" class="headerlink" title="Tạo file fstab ( file này sẽ lưu trữ thông tin các phân vùng mount)"></a>Tạo file fstab ( file này sẽ lưu trữ thông tin các phân vùng mount)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -Up /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>

<h2 id="Thay-doi-root-tu-USB-vao-Arch-Linux-moi-cai-bang-lenh-arch-chroot"><a href="#Thay-doi-root-tu-USB-vao-Arch-Linux-moi-cai-bang-lenh-arch-chroot" class="headerlink" title="Thay đổi root từ USB vào Arch Linux mới cài bằng lệnh arch-chroot"></a>Thay đổi root từ USB vào Arch Linux mới cài bằng lệnh <strong>arch-chroot</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-ngon-ngu-va-location"><a href="#Cai-dat-ngon-ngu-va-location" class="headerlink" title="Cài đặt ngôn ngữ và location"></a>Cài đặt ngôn ngữ và location</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nvim /etc/locale.gen</span><br><span class="line"><span class="comment">#ở đây mình sẽ dùng en_US.UTF-8</span></span><br><span class="line"><span class="comment">#nên sẽ bỏ dấu thăng ở dòng này và lưu file lại rồi chạy lệnh dưới</span></span><br><span class="line">locale-gen</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-thoi-gian"><a href="#Cai-dat-thoi-gian" class="headerlink" title="Cài đặt thời gian"></a>Cài đặt thời gian</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Xem list Zone bằng lệnh</span></span><br><span class="line">ls /usr/share/zoneinfo</span><br><span class="line"><span class="comment">#link time zone Ho_Chi_Minh City vào /etc/localtime</span></span><br><span class="line">ln -sf /usr/share/zoneinfo/Asia/Ho_Chi_Minh /etc/localtime</span><br><span class="line"><span class="comment"># Config clock</span></span><br><span class="line">hwclock --systohc --utc</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-Network"><a href="#Cai-dat-Network" class="headerlink" title="Cài đặt Network"></a>Cài đặt Network</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;BlackDrag0n&quot;</span> &gt; /etc/hostname</span><br><span class="line"><span class="comment"># cài đặt DHCP</span></span><br><span class="line">pacman -S dhcpcd</span><br><span class="line">systemctl <span class="built_in">enable</span> dhcpcd.service</span><br><span class="line">systemctl start dhcpcd.service</span><br></pre></td></tr></table></figure>

<h2 id="Thiet-lap-pacman-repositories"><a href="#Thiet-lap-pacman-repositories" class="headerlink" title="Thiết lập pacman repositories"></a>Thiết lập pacman repositories</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">nvim /etc/pacman.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># bỏ dấu # trước [multilib] như bên dưới</span></span><br><span class="line"></span><br><span class="line">[multilib]</span><br><span class="line">Include = /etc/pacman.d/mirrorlist</span><br><span class="line"></span><br><span class="line"><span class="comment"># thay đổi khu vực download</span></span><br><span class="line">nvim /etc/pacman.d/mirrorlist</span><br><span class="line"></span><br><span class="line"><span class="comment">#tìm dòng [Vietnam] copy paste lên đầu tiên để ưu tiên</span></span><br></pre></td></tr></table></figure>

<h2 id="Thiet-lap-User"><a href="#Thiet-lap-User" class="headerlink" title="Thiết lập User"></a>Thiết lập User</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mật khẩu root</span></span><br><span class="line">passwd</span><br><span class="line">pacman -Sy sudo</span><br><span class="line"><span class="comment"># chỉnh sửa sudo để user có quyền root</span></span><br><span class="line">EDITOR=nvim visudo</span><br><span class="line"><span class="comment">#bỏ dấu # trước dòng #%wheel ALL=(ALL) ALL và lưu lại</span></span><br></pre></td></tr></table></figure>

<h2 id="Tao-User"><a href="#Tao-User" class="headerlink" title="Tạo User"></a>Tạo User</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pmk ở đây là tên User mình muốn đặt</span></span><br><span class="line">useradd -m -g users -G wheel,storage,network,power -s /usr/bin/zsh pmk</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-intel-ucode-amd-ucode-cai-nay-dung-de-patch-loi-cho-CPU"><a href="#Cai-dat-intel-ucode-amd-ucode-cai-nay-dung-de-patch-loi-cho-CPU" class="headerlink" title="Cài đặt intel-ucode (amd-ucode) # cái này dùng để patch lỗi cho CPU"></a>Cài đặt intel-ucode (amd-ucode) # cái này dùng để patch lỗi cho CPU</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S intel-ucode</span><br></pre></td></tr></table></figure>

<h2 id="Tao-file-boot-cho-Linux-bang-lenh-mkinitcpio"><a href="#Tao-file-boot-cho-Linux-bang-lenh-mkinitcpio" class="headerlink" title="Tạo file boot cho Linux bằng lệnh mkinitcpio"></a>Tạo file boot cho Linux bằng lệnh <strong>mkinitcpio</strong></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkinitcpio -p linux</span><br><span class="line"><span class="comment">#khi này trong thư mục /boot sẽ có 3 file là initramfs-linux.img initramfs-linux-fallback.img và vmlinuz-linux</span></span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-Boot-manager"><a href="#Cai-dat-Boot-manager" class="headerlink" title="Cài đặt Boot manager"></a>Cài đặt Boot manager</h2><p>Thường thì các bản Distro Linux sẽ dùng <strong>Grub</strong> để làm boot manager nhưng ở đây mình sẽ cài đặt <strong>Clover Bootloader</strong> để làm boot manager nên mình sẽ skip phần cài Grub cài luôn Clover vào. Các bạn có thể tham khảo cách cài Grub tại <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/GRUB">đây</a>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install os-prober efibootmgr dosfstools</span></span><br><span class="line">pacman -Sy os-prober efibootmgr dosfstools</span><br><span class="line"></span><br><span class="line"><span class="comment"># install grub EFI to EFI partition mount as /boot</span></span><br><span class="line"></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub --boot-directory=/boot/EFI --recheck --debug</span><br><span class="line"></span><br><span class="line"><span class="comment"># generate grub config file</span></span><br><span class="line">grub-mkconfig -o /boot/EFI/grub/grub.cfg</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Để cài đặt Clover thì có thể lấy sẵn file của mình build sẵn sửa UUID đi là được. Đây là <a target="_blank" rel="noopener" href="https://github.com/pmkdrag0n/dotfiles/tree/master/CLOVER"> file Clover mẫu</a> của mình, các bạn có thể clone về và copy vào thử mực <strong>/boot/EFI/</strong> . Mọi thiết lập cài đặt đều nằm trong <strong>config.plist</strong></p>
<p>Ở file <strong>config.plist</strong> tìm đến <key> Entries </key> để chỉnh sửa thì dưới đây là một cấu hình mẫu của Windows 10 của mình. Mục bôi đỏ thì các bạn thay số UUID của phân vùng EFI (/dev/sda1 hiện tại đang setup) của bạn vào. Số UUID có thể lấy được bằng lệnh <strong>blkid</strong></p>
<p><img src="/images/blog1/blog_1_2.png"></p>
<p>Còn phân vùng Arch Linux thì thay phần bôi đỏ này bằng UUID của phân vùng root ( /dev/sda3 của mình)</p>
<p><img src="/images/blog1/blog_1_3.png"></p>
<p>Còn phần fallback là phần backup khi có lỗi up kernel của Arch thì mình có thể vào lại được không bắt buộc.</p>
<h2 id="Exit-va-Reboot-Usb-cai-Arch"><a href="#Exit-va-Reboot-Usb-cai-Arch" class="headerlink" title="Exit và Reboot Usb cài Arch"></a>Exit và Reboot Usb cài Arch</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span></span><br><span class="line">umount -R /mnt</span><br><span class="line">shutdown -r now</span><br></pre></td></tr></table></figure>

<p>Boot vào bios và thêm boot entry của clover vào. Đây là thành quả đạt được</p>
<p><img src="/images/blog_1_4.png"></p>
<h2 id="Cai-dat-mot-so-thu-can-thiet"><a href="#Cai-dat-mot-so-thu-can-thiet" class="headerlink" title="Cài đặt một số thứ cần thiết"></a>Cài đặt một số thứ cần thiết</h2><p>Login với User mà mình vừa tạo và bắt đầu cài đặt những package cần thiết</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syyu</span><br><span class="line"><span class="comment"># install xorg server</span></span><br><span class="line"></span><br><span class="line">sudo pacman -S xorg-server xorg-server-utils xorg-xinit mesa</span><br><span class="line"></span><br><span class="line"><span class="comment"># install Driver for laptop</span></span><br><span class="line"></span><br><span class="line">sudo pacman -S xf86-input-synaptics</span><br><span class="line"><span class="comment"># fix alway mute sound</span></span><br><span class="line">sudo pacman -S alsa-utils</span><br><span class="line">alsamixer Sset Master unmute</span><br><span class="line"><span class="comment"># install NetworkManager</span></span><br><span class="line">pacman -S NetworkManager</span><br><span class="line">sudo systemctl stop dhcpcd.service</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> dhcpcd.service</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> NetworkManager.service</span><br><span class="line">sudo systemctl start NetworkManager.service</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-AUR-helpers"><a href="#Cai-dat-AUR-helpers" class="headerlink" title="Cài đặt AUR helpers"></a>Cài đặt AUR helpers</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Arch User Repository giúp cho chúng ta cài đặt các app không có trong repositories của Arch</span></span><br><span class="line"><span class="built_in">cd</span> /tmp/</span><br><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/trizen.git</span><br><span class="line"><span class="built_in">cd</span> trizen</span><br><span class="line">makepkg -si</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-terminal"><a href="#Cai-dat-terminal" class="headerlink" title="Cài đặt terminal"></a>Cài đặt terminal</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Vì mình không thích konsole của KDE nên đã cài 1 thằng khác là kitty</span></span><br><span class="line">trizen -S kitty --confirm</span><br></pre></td></tr></table></figure>

<h2 id="Cai-dat-Desktop-Enviroment-DE"><a href="#Cai-dat-Desktop-Enviroment-DE" class="headerlink" title="Cài đặt Desktop Enviroment (DE)"></a>Cài đặt Desktop Enviroment (DE)</h2><p>Có rất nhiều loại DE mà các bạn có thể lựa chọn, nhưng ở đây mình sẽ cài đặt KDE</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S plasma sddm</span><br><span class="line"><span class="comment">#khởi động sddm để log vào kde kiểm tra coi có lỗi không</span></span><br><span class="line">systemctl start sddm.service</span><br></pre></td></tr></table></figure>

<p> Như vậy là đã cài đặt thành công Arch Linux lên máy mình. Ở phần tiếp theo mình sẽ hướng dẫn tối ưu hoá workflow trên Linux</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Linux/">Linux</a><a class="link-muted mr-2" rel="tag" href="/tags/Setup/">Setup</a></div><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f12702e7c76c45e" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/07/18/Minh-da-setup-Arch-Linux-nhu-the-nao-Part-2-Setup-Nvidia-driver-Zsh-plugins-alias/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Mình đã setup Arch Linux như thế nào? (Part 2: Setup Nvidia driver + Zsh plugins + alias)</span></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://www.gravatar.com/avatar/40c40de6190268d10debbad8c16fb21b?s=128" alt="Phạm Minh Khôi"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Phạm Minh Khôi</p><p class="is-size-6 is-block">Network Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Ho Chi Minh city, Vietnam</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">5</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/pmkdrag0n" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/pmkdrag0n"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Telegram" href="https://t.me/BlackDrag0n98"><i class="fab fa-telegram"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Badge" href="https://www.youracclaim.com/users/minh-khoi-pham"><i class="fas fa-certificate"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Network-Automation/"><span class="level-start"><span class="level-item">Network Automation</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Monitor/"><span class="tag">Monitor</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Setup/"><span class="tag">Setup</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WSL2/"><span class="tag">WSL2</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Chuan-bi"><span class="level-left"><span class="level-item">1</span><span class="level-item">Chuẩn bị</span></span></a></li><li><a class="level is-mobile" href="#Phan-vung-cai-dat"><span class="level-left"><span class="level-item">2</span><span class="level-item">Phân vùng cài đặt</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-Arch-Linux-bang-lenh-pactrap"><span class="level-left"><span class="level-item">3</span><span class="level-item">Cài đặt Arch Linux bằng lệnh pactrap</span></span></a></li><li><a class="level is-mobile" href="#Tao-file-fstab-file-nay-se-luu-tru-thong-tin-cac-phan-vung-mount"><span class="level-left"><span class="level-item">4</span><span class="level-item">Tạo file fstab ( file này sẽ lưu trữ thông tin các phân vùng mount)</span></span></a></li><li><a class="level is-mobile" href="#Thay-doi-root-tu-USB-vao-Arch-Linux-moi-cai-bang-lenh-arch-chroot"><span class="level-left"><span class="level-item">5</span><span class="level-item">Thay đổi root từ USB vào Arch Linux mới cài bằng lệnh arch-chroot</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-ngon-ngu-va-location"><span class="level-left"><span class="level-item">6</span><span class="level-item">Cài đặt ngôn ngữ và location</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-thoi-gian"><span class="level-left"><span class="level-item">7</span><span class="level-item">Cài đặt thời gian</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-Network"><span class="level-left"><span class="level-item">8</span><span class="level-item">Cài đặt Network</span></span></a></li><li><a class="level is-mobile" href="#Thiet-lap-pacman-repositories"><span class="level-left"><span class="level-item">9</span><span class="level-item">Thiết lập pacman repositories</span></span></a></li><li><a class="level is-mobile" href="#Thiet-lap-User"><span class="level-left"><span class="level-item">10</span><span class="level-item">Thiết lập User</span></span></a></li><li><a class="level is-mobile" href="#Tao-User"><span class="level-left"><span class="level-item">11</span><span class="level-item">Tạo User</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-intel-ucode-amd-ucode-cai-nay-dung-de-patch-loi-cho-CPU"><span class="level-left"><span class="level-item">12</span><span class="level-item">Cài đặt intel-ucode (amd-ucode) # cái này dùng để patch lỗi cho CPU</span></span></a></li><li><a class="level is-mobile" href="#Tao-file-boot-cho-Linux-bang-lenh-mkinitcpio"><span class="level-left"><span class="level-item">13</span><span class="level-item">Tạo file boot cho Linux bằng lệnh mkinitcpio</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-Boot-manager"><span class="level-left"><span class="level-item">14</span><span class="level-item">Cài đặt Boot manager</span></span></a></li><li><a class="level is-mobile" href="#Exit-va-Reboot-Usb-cai-Arch"><span class="level-left"><span class="level-item">15</span><span class="level-item">Exit và Reboot Usb cài Arch</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-mot-so-thu-can-thiet"><span class="level-left"><span class="level-item">16</span><span class="level-item">Cài đặt một số thứ cần thiết</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-AUR-helpers"><span class="level-left"><span class="level-item">17</span><span class="level-item">Cài đặt AUR helpers</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-terminal"><span class="level-left"><span class="level-item">18</span><span class="level-item">Cài đặt terminal</span></span></a></li><li><a class="level is-mobile" href="#Cai-dat-Desktop-Enviroment-DE"><span class="level-left"><span class="level-item">19</span><span class="level-item">Cài đặt Desktop Enviroment (DE)</span></span></a></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2020/08/26/Prometheus-Grafana/"><img src="/images/blog5/1.jpg" alt="Prometheus &amp; Grafana"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-08-27T06:42:56.000Z">26-08-2020</time></p><p class="title"><a href="/2020/08/26/Prometheus-Grafana/">Prometheus &amp; Grafana</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/07/21/Thiet-lap-Workstation-danh-cho-DevNet-tren-Windows-voi-WSL-2/"><img src="/images/blog4/blog_4_thumb.png" alt="Thiết lập Workstation dành cho DevNet trên Windows với WSL 2"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-07-21T22:52:40.000Z">21-07-2020</time></p><p class="title"><a href="/2020/07/21/Thiet-lap-Workstation-danh-cho-DevNet-tren-Windows-voi-WSL-2/">Thiết lập Workstation dành cho DevNet trên Windows với WSL 2</a></p><p class="categories"><a href="/categories/Network-Automation/">Network Automation</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/07/19/Python-co-ban/"><img src="/images/blog_python/cover_python.jpg" alt="Python cơ bản"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-07-19T16:54:19.000Z">19-07-2020</time></p><p class="title"><a href="/2020/07/19/Python-co-ban/">Python cơ bản</a></p><p class="categories"><a href="/categories/Network-Automation/">Network Automation</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/07/18/Ly-do-vi-sao-nen-dung-Arch-Linux/"><img src="/images/blog3/blog_3_1.png" alt="Lý do vì sao nên dùng Arch Linux? "></a></figure><div class="media-content"><p class="date"><time dateTime="2020-07-18T22:43:09.000Z">18-07-2020</time></p><p class="title"><a href="/2020/07/18/Ly-do-vi-sao-nen-dung-Arch-Linux/">Lý do vì sao nên dùng Arch Linux? </a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2020/07/18/Minh-da-setup-Arch-Linux-nhu-the-nao-Part-2-Setup-Nvidia-driver-Zsh-plugins-alias/"><img src="/images/blog2/blog_2_1.png" alt="Mình đã setup Arch Linux như thế nào? (Part 2: Setup Nvidia driver + Zsh plugins + alias)"></a></figure><div class="media-content"><p class="date"><time dateTime="2020-07-18T20:38:16.000Z">18-07-2020</time></p><p class="title"><a href="/2020/07/18/Minh-da-setup-Arch-Linux-nhu-the-nao-Part-2-Setup-Nvidia-driver-Zsh-plugins-alias/">Mình đã setup Arch Linux như thế nào? (Part 2: Setup Nvidia driver + Zsh plugins + alias)</a></p><p class="categories"><a href="/categories/Linux/">Linux</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">pmk&#039;s blog</a><p class="is-size-7"><span>&copy; 2020 Pham Minh Khoi</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent " target="_blank" rel="noopener" title="Network|Linux|Code|Stuff|" href="/">Network|Linux|Code|Stuff|</a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Telegram" href="https://t.me/BlackDrag0n98"><i class="fab fa-telegram"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="My GitHub" href="https://github.com/pmkdrag0n"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>